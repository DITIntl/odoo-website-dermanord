<?xml version="1.0" encoding="utf-8"?>
<openerp>
  <data>
    <template id="ingredients" inherit_id="product_ingredients.ingredients" name="Inherit ingredients">
      <!-- if there's a variant in page, show ingredients for this variant. Otherwise, show ingredients for template -->
      <xpath expr="//t[@t-set='ingredients']" position="replace">
        <t t-if="product_product">
          <t t-set="ingredients" t-value="request.env['product.ingredient'].search([('product_ids', 'in', product_product.id)], order='sequence')" />
        </t>
        <t t-if="not product_product">
          <t t-set="ingredients" t-value="request.env['product.ingredient'].search([('product_ids', 'in', product.id)], order='sequence')" />
        </t>
      </xpath>
    </template>
    <template id="form_values" name="Form Values">
      <t t-set="filter_facets" t-value="request.env['product.facet'].search([])" />
      <t t-set="filter_categories" t-value="request.env['product.public.category'].search([])" />
      <t t-set="filter_ingredients" t-value="request.env['product.ingredient'].search([])" />
      <input type="hidden" name="order" t-att-value="request.session.get('form_values', {}).get('order') or 'name asc'" />
      <t t-if="len(filter_facets) &gt; 0">
        <t t-foreach="filter_facets" t-as="facet">
          <t t-set="facet_values" t-value="request.env['product.facet.value'].search([('facet_id', '=', facet.id)])" />
          <t t-if="len(facet_values) &gt; 0">
            <t t-foreach="facet_values" t-as="facet_value">
              <t t-if="request.session.get('form_values')">
                <input type="hidden" t-att-name="'facet_%s_%s' %(facet.id, facet_value.id)" t-att-value="request.session.get('form_values').get('facet_%s_%s' %(facet.id, facet_value.id)) if request.session.get('form_values').get('facet_%s_%s' %(facet.id, facet_value.id)) else ''" />
              </t>
            </t>
          </t>
        </t>
      </t>
      <t t-if="len(filter_categories) &gt; 0">
        <t t-foreach="filter_categories" t-as="category">
          <t t-if="request.session.get('form_values')">
            <input type="hidden" t-att-name="'category_%s' %category.id" t-att-value="request.session.get('form_values').get('category_%s' %category.id) if request.session.get('form_values').get('category_%s' %category.id) else ''" />
          </t>
        </t>
      </t>
      <t t-if="len(filter_ingredients) &gt; 0">
        <t t-foreach="filter_ingredients" t-as="ingredient">
          <t t-if="request.session.get('form_values')">
            <input type="hidden" t-att-name="'ingredient_%s' %ingredient.id" t-att-value="request.session.get('form_values').get('ingredient_%s' %ingredient.id) if request.session.get('form_values').get('ingredient_%s' %ingredient.id) else ''" />
          </t>
        </t>
      </t>
    </template>
    <template id="products" name="Products">
      <t t-call="website.layout">
        <t t-set="additional_title">Shop</t>
        <div id="wrap" class="js_sale autoload_grid">
          <div class="oe_structure" />
          <t t-call="webshop_dermanord.dn_shop" />
          <div class="oe_structure mb32" />
        </div>
      </t>
    </template>
    <template id="dn_shop" name="DN Shop">
      <t t-if="current_ingredient">
        <div id="ingredient_div" class="container">
          <h6 class="text-center">
            <span t-field="current_ingredient.name" />
          </h6>
          <span itemprop="image" t-field="current_ingredient.image" t-field-options='{"widget": "image", "alt-field": "name"}' />
          <p class="mt16">
            <span t-field="current_ingredient.description" />
          </p>
        </div>
      </t>
      <div class="container oe_website_sale">
        <div id="desktop_product_navigator" class="col-md-3 hidden-xs">
          <!-- navigator -->
          <t t-call="webshop_dermanord.desktop_product_navigator" />
        </div>
        <div id="desktop_product_grid" class="col-md-9 col-xs-12">
            <t t-foreach="products" t-as="product">
                <div class="dn_oe_product col-md-4 col-sm-6 col-xs-12">
                        <!--
                      <div class="dn_css_options" t-ignore="true" groups="base.group_website_publisher">
                        <div t-attf-class="dropdown dn_js_options" t-att-data-id="product.id">
                          <button class="btn btn-default" t-att-id="'dopprod-%s' % product.id" role="button" data-toggle="dropdown">
                            Options
                            <span class="caret" />
                          </button>
                          <ul class="dropdown-menu" role="menu" t-att-aria-labelledby="'dopprod-%s' % product.id">
                            <li class="dropdown-submenu">
                              <a tabindex="-1" href="#">Styles</a>
                              <ul class="dropdown-menu" name="style">
                                <t t-foreach="styles" t-as="style">
                                  <li t-att-class="style_in_product(style, product) and 'active' or ''">
                                    <a href="#" t-att-data-id="style.id" t-att-data-class="style.html_class">
                                      <t t-esc="style.name" />
                                    </a>
                                  </li>
                                </t>
                              </ul>
                            </li>
                          </ul>
                        </div>
                      </div>
                      -->
                      <div t-call="webshop_dermanord.products_item" />
                </div>
            </t>
        </div>
      </div>
    </template>

        <template id="products_itemX" name="Product item">
            <form action="/shop/cart/update" method="post">
                <div itemscope="itemscope" itemtype="http://schema.org/Product" t-att-class="'dn_product_div %s' % product.get_default_variant_ribbon()">
                    <div class="ribbon-wrapper">
                        <div class="ribbon btn btn-primary">News</div>
                    </div>
                    <t t-if="product.is_offer_product">
                        <div class="offer-wrapper">
                            <i class="fa fa-star-o fa-3x" title="Offer"/>
                        </div>
                    </t>
                    <div class="dn_product_image">
                        <div class="dn_product_image_div">
                            <a itemprop="url" t-att-href="keep('/dn_shop/product/%s' % slug(product), page=(pager['page']['num'] if pager['page']['num']>1 else None))">
                                <t t-call="webshop_dermanord.form_values"/>
                                <img itemprop="image" class="img img-responsive" t-att-src="product.dv_image_src" t-att-alt="variant.name" />
                                <!--
                                <t t-if="len(variant.image_ids) &gt; 0">
                                    <img itemprop="image" class="img img-responsive" t-att-src="'/imagefield/base_multi_image.image/image_main/%s/ref/%s' %(variant.image_ids[0].id, 'snippet_dermanord.img_product')" t-att-alt="variant.name" />
                                </t>
                                <t t-if="len(variant.image_ids) == 0">
                                    <img itemprop="image" class="img img-responsive" t-att-src="website.image_url(variant, 'image', None if product_image_big else '300x300')" t-att-alt="variant.name" />
                                </t>
                                -->
                                <div class="dn_product_image_hover_btn text-center hidden-xs">
                                    <p class="dn_btn dn_primary">
                                        DETAILS
                                    </p>
                                </div>
                            </a>
                        </div>
                    </div>
                    <div class="dn_product_info text-center">
                        <h4 class="p_name">
                            <strong>
                                <a itemprop="name" t-att-href="keep('/dn_shop/product/%s' % slug(product), page=(pager['page']['num'] if pager['page']['num']>1 else None))" t-field="product.dv_name" />
                            </strong>
                        </h4>
                        <h5 class="text-muted" style="height: 15px;" t-field="variant.default_code"/>
                        <!--<p class="p_desc"><t t-esc="variant.description_sale"/></p>-->
                        <div itemprop="offers" itemscope="itemscope" itemtype="http://schema.org/Offer" class="product_price">
                            <b class="text-muted">
                                <h4>
                                    <t t-if="user_id.partner_id.property_product_pricelist and not user_id.partner_id.property_product_pricelist.for_reseller">
<!--
                                        <t t-if="(compute_currency(variant.list_price_tax) - variant.price_tax) &gt; 0.1">
                                            <del class="text-danger" style="white-space: nowrap;" t-field="variant.list_price_tax" t-field-options='{
                                          "widget": "monetary",
                                          "from_currency": "product.company_id.currency_id",
                                          "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                                        }' />
                                        &amp;nbsp;
                                        </t>
-->
                                        <span t-field="variant.price_tax" style="white-space: nowrap;" t-field-options='{
                                           "widget": "monetary",
                                           "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                                       }' />
                                    </t>

                                    <t t-if="user_id.partner_id.property_product_pricelist and user_id.partner_id.property_product_pricelist.for_reseller">
                                        <div>
                                            <span class="oe_recommended_price" t-field="variant.list_price_tax"
                                            t-field-options='{
                                              "widget": "monetary",
                                              "from_currency": "product.company_id.currency_id",
                                              "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                                           }'/> <span style="display: inline;">(rec inc tax)</span>
                                        </div>
                                        <div>
                                           <b class="oe_price" style="white-space: nowrap;"
                                            t-field="variant.price"
                                            t-field-options='{
                                               "widget": "monetary",
                                               "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                                           }'/>
                                           <t t-if="user_id.partner_id.property_product_pricelist and user_id.partner_id.property_product_pricelist.for_reseller"> <span style="display: inline;">(your ex tax)</span></t>
                                        </div>
                                    </t>

                                    <span itemprop="price" style="display:none;" t-esc="variant.price" />
                                    <span itemprop="priceCurrency" style="display:none;" t-esc="user_id.partner_id.property_product_pricelist.currency_id.name" class='decimal_precision' t-att-data-precision="website.pricelist_id.currency_id.rounding" />
                                </h4>
                            </b>
                        </div>
                    </div>
                </div>
            </form>
        </template>

    <!-- better and faster -->
    <template id="products_itemZZ" name="Product item">
      <form action="/shop/cart/update" method="post">
        <div itemscope="itemscope" itemtype="http://schema.org/Product" t-att-class="'dn_product_div %s' % product.get_default_variant_ribbon()">
          <div class="ribbon-wrapper">
            <div class="ribbon btn btn-primary">News</div>
          </div>
          <t t-if="product.is_offer_product">
            <div class="offer-wrapper">
              <i class="fa fa-star-o fa-3x" title="Offer" />
            </div>
          </t>
          <div class="dn_product_image">
            <div class="dn_product_image_div">
              <a itemprop="url" t-att-href="keep('/dn_shop/product/%s' % slug(product), page=(pager['page']['num'] if pager['page']['num']>1 else None))">
                <t t-call="webshop_dermanord.form_values" />
                <img itemprop="image" class="img img-responsive" t-att-src="product.dv_image_src" t-att-alt="product.dv_name" />
                <div class="dn_product_image_hover_btn text-center hidden-xs">
                  <p class="dn_btn dn_primary">DETAILS</p>
                </div>
              </a>
            </div>
          </div>
          <div class="dn_product_info text-center">
            <h4 class="p_name">
              <strong>
                <a itemprop="name" t-att-href="keep('/dn_shop/product/%s' % slug(product), page=(pager['page']['num'] if pager['page']['num']>1 else None))" t-field="product.dv_name" />
              </strong>
            </h4>
            <h5 class="text-muted" style="height: 15px;" t-field="product.dv_default_code" />
            <div itemprop="offers" itemscope="itemscope" itemtype="http://schema.org/Offer" class="product_price">
              <b class="text-muted">
                <h4>
                  <t t-if="not is_reseller">
                    <span t-field="product.dv_recommended_price" style="white-space: nowrap;" t-field-options='{
                                           "widget": "monetary",
                                           "display_currency": "pricelist.currency_id"
                                       }' />
                  </t>
                  <t t-if="is_reseller">
                    <div>
                      <span class="oe_recommended_price" t-field="product.dv_recommended_price" t-field-options='{
                                              "widget": "monetary",
                                              "from_currency": "product.company_id.currency_id",
                                              "display_currency": "pricelist.currency_id"
                                           }' />
                      <span style="display: inline;">(rec inc tax)</span>
                    </div>
                    <div>
                      <b class="oe_price" style="white-space: nowrap;" t-field="product.dv_price" t-field-options='{
                                               "widget": "monetary",
                                               "display_currency": "pricelist.currency_id"
                                           }' />
                      <span style="display: inline;">(your ex tax)</span>
                    </div>
                  </t>
                  <span itemprop="price" style="display:none;" t-esc="product.dv_price" />
                  <span itemprop="priceCurrency" style="display:none;" t-esc="user_id.partner_id.property_product_pricelist.currency_id.name" class='decimal_precision' t-att-data-precision="website.pricelist_id.currency_id.rounding" />
                </h4>
              </b>
            </div>
          </div>
        </div>
      </form>
    </template>

    <!-- fastest -->
    <template id="products_item" name="Product item">
        <t t-set="start_time" t-value="time.time()"/>
      <form action="/shop/cart/update" method="post">
        <div itemscope="itemscope" itemtype="http://schema.org/Product" t-att-class="'dn_product_div %s' % product['dv_ribbon']">
          <div class="ribbon-wrapper">
            <div class="ribbon ribbon_news btn btn-primary">News</div>
          </div>
          <t t-if="product['is_offer_product']">
            <div class="offer-wrapper">
                <div class="ribbon ribbon_offer btn btn-primary">Offer</div>
<!--
                <i class="fa fa-star-o fa-3x" title="Offer" />
-->
            </div>
          </t>
          <div class="dn_product_image">
            <div class="dn_product_image_div">
              <a itemprop="url" t-att-href="'/dn_shop/product/%s' % product['id']">
<!--
                <t t-call="webshop_dermanord.form_values" />
-->
                <img itemprop="image" class="img img-responsive" t-att-src="product['dv_image_src']" t-att-alt="product['dv_name']" />
                <div class="dn_product_image_hover_btn text-center hidden-xs">
                  <p class="dn_btn dn_primary">DETAILS</p>
                </div>
              </a>
            </div>
          </div>
          <div class="dn_product_info text-center">
            <h4 class="p_name">
              <strong>
                <a itemprop="name" t-att-href="'/dn_shop/product/%s' % product['id']" t-esc="product['dv_name']" />
              </strong>
            </h4>
<!--
            <h5 class="text-muted" style="height: 15px;" t-esc="product['dv_default_code']" />
-->
            <div itemprop="offers" itemscope="itemscope" itemtype="http://schema.org/Offer" class="product_price">
              <b class="text-muted">
                <h4>
                    <t t-if="not is_reseller">
                        <span t-field="pricelist.currency_id.name" style="white-space: nowrap;"/>
                        <span t-esc="('%.2f' %product['dv_recommended_price']).replace('.', ',')"/>
                    </t>
                  <t t-if="is_reseller">
                    <div>
                        <span t-field="pricelist.currency_id.name" style="white-space: nowrap;"/>
                        <span t-esc="('%.2f' %product['dv_recommended_price']).replace('.', ',')" style="white-space: nowrap;"/>
                        <span style="display: inline;">(rec inc tax)</span>
                    </div>
                    <div>
                        <b t-field="pricelist.currency_id.name" style="white-space: nowrap;"/>
                        <b t-esc="('%.2f' %product['dv_price']).replace('.', ',')" style="white-space: nowrap;"/>
                        <span style="display: inline;">(your ex tax)</span>
                    </div>
                  </t>
<!--
                  <span itemprop="price" style="display:none;" t-esc="product.dv_price" />
                  <span itemprop="priceCurrency" style="display:none;" t-esc="user_id.partner_id.property_product_pricelist.currency_id.name" class='decimal_precision' t-att-data-precision="website.pricelist_id.currency_id.rounding" />
-->
                </h4>
              </b>
            </div>
          </div>
        </div>
      </form>
    <script>console.log('<t t-esc="'product: %s, load time: %s' %(product['id'], time.time() - start_time)"/>');</script>
    </template>

    <template id="products_list_reseller_view" name="Product List For Reseller">
      <t t-call="website.layout">
        <t t-set="additional_title">Shop</t>
        <div id="wrap" class="js_sale autoload_list">
          <div class="oe_structure" />
          <t t-if="user_id.partner_id.property_product_pricelist and user_id.partner_id.property_product_pricelist.for_reseller">
            <div class="container oe_website_sale">
              <!--
                   <div class="products_pager">
                   <div class="row" style="width: 100%;">
                   <t t-call="website_sale.search"><t t-set="search_class">pagination form-inline col-md-3</t></t>
                   <t t-call="website.pager"/>
                   </div>
                   </div>
              -->
              <t t-call="webshop_dermanord.form_values" />
              <div id="desktop_product_navigator" class="col-md-3 hidden-xs">
                <!-- navigator -->
                <t t-call="webshop_dermanord.desktop_product_navigator" />
              </div>
              <div id="desktop_product_list" class="col-md-9 col-xs-12">
                  <table class="product_list_table table table-striped" style="width: 100%;">
                <thead>
                    <tr>
                        <td></td>
                        <td>Art. nr</td>
                        <td>Produkt</td>
                        <td>Säljstart kund</td>
                        <td>Ditt pris</td>
                    </tr>
                </thead>
                  <tbody>
                    <t t-foreach="products" t-as="product">
                      <t t-set="purchase_phase" t-value="None"/>
                        <t t-if="len(product.campaign_ids) &gt; 0">
                          <t t-if="len(product.campaign_ids[0].mapped('phase_ids').filtered(lambda p: p.reseller_pricelist)) &gt; 0">
                            <t t-set="purchase_phase" t-value="product.campaign_ids[0].mapped('phase_ids').filtered(lambda p: p.reseller_pricelist)[0]"/>
                          </t>
                        </t>
                      <tr t-att-class="'tr_lst %s' % product.get_this_variant_ribbon()">
                        <td class="td_lst">
                          <div class="col-md-6 lst-ribbon-wrapper">
                            <t t-if="(request.env.ref('website_sale.image_promo') in product.website_style_ids_variant) or (request.env.ref('website_sale.image_promo') in product.product_tmpl_id.website_style_ids)">
                              <i class="fa fa-tags fa-2x" title="News"/>
                            </t>
                          </div>
                          <t t-if="product.is_offer_product">
                            <div class="col-md-6 lst-offer-wrapper">
                              <i class="fa fa-star-o fa-2x" title="Offer"/>
                            </div>
                          </t>
                        </td>
                        <td>
                          <h5 class="list_product_name">
                              <span t-field="product.default_code"/>
                          </h5>
                        </td>
                        <td>
                          <h5 class="list_product_name">
                            <div itemprop="offers" itemscope="itemscope" itemtype="http://schema.org/Offer" t-att-class="product_price">
                              <strong>
                                <a t-att-href="keep('/dn_shop/variant/%s' % slug(product), page=(pager['page']['num'] if pager['page']['num']&gt;1 else None))">
                                  <span itemprop="name" t-field="product.name"/>
                                  <t t-if="len(product.attribute_value_ids) &gt; 0">
                                    <t t-foreach="product.attribute_value_ids" t-as="att">
                                      <t t-esc="', %s' %att.name"/>
                                    </t>
                                  </t>
                                </a>
                              </strong>
                            </div>
                          </h5>
                        </td>
                        <td>
                            <t t-if="purchase_phase">
                                <h5>
                                <div class="text-center">
                                    <span t-field="purchase_phase.end_date"/>
                                    <br/>
                                    <!-- TODO: Replace dummy value -->
                                    <span>(2018-06-30)</span>
                                </div>
                                </h5>
                            </t>
                        </td>
                        <td>
                          <h5>
                            <b>
                              <span t-field="product.price" style="white-space: nowrap;" t-field-options="{                                                                        &quot;widget&quot;: &quot;monetary&quot;,                                                                        &quot;display_currency&quot;: &quot;user_id.partner_id.property_product_pricelist.currency_id&quot;                                                                     }"/>
                              <span itemprop="price" style="display:none;" t-esc="product.price">
                                <a class="btn btn-default btn-xs fa fa-shopping-cart" t-att-href="keep('/dn_shop/variant/%s' % slug(product), page=(pager['page']['num'] if pager['page']['num']&gt;1 else None))"/>
                              </span>
                              <span itemprop="priceCurrency" style="display:none;" t-esc="user_id.partner_id.property_product_pricelist.currency_id.name" class="decimal_precision" t-att-data-precision="website.pricelist_id.currency_id.rounding"/>
                            </b>
                          </h5>
                          <!-- TODO: Replace dummy value -->
                          <h5>
                              (100 SEK)
                          </h5>
                        </td>
                        <td>
                          <div>
                            <form t-att-action="keep('/shop/cart/update')" class="oe_dn_list" t-att-data-attribute_value_ids="product.id" method="POST">
                              <div class="product_shop col-md-7 col-sm-7 col-xs-12" style="margin: 0px;">
                                <input type="hidden" class="product_id" name="product_id" t-att-value="int(product)"/>
                                <input type="hidden" name="return_url" t-att-value="request.httprequest.url"/>
                                <div class="css_quantity input-group oe_website_spinner">
                                  <span class="input-group-addon">
                                    <a t-attf-href="#" class="mb8 js_add_cart_json">
                                      <i class="fa fa-minus"/>
                                    </a>
                                  </span>
                                  <input type="text" class="js_quantity form-control" data-min="1" name="add_qty" value="1"/>
                                  <span class="input-group-addon">
                                    <a t-attf-href="#" class="mb8 float_left js_add_cart_json">
                                      <i class="fa fa-plus"/>
                                    </a>
                                  </span>
                                </div>
                                <a id="add_to_cart" class="btn btn-default js_check_product a-submit" href="#">
                                  <i class="fa fa-shopping-cart a-submit" style="color: #CB683F;"/>
                                </a>
                              </div>
                            </form>
                          </div>
                        </td>
                      </tr>
                    </t>
                  </tbody>
                </table>

<!--
                <table class="product_list_table table table-striped" style="width: 100%;">
                  <tbody>
                    <t t-foreach="products" t-as="product">
                      <tr t-att-class="'tr_lst %s' % product.get_this_variant_ribbon()">
                        <td class="td_lst">
                          <div class="col-md-6 lst-ribbon-wrapper">
                            <t t-if="(request.env.ref('website_sale.image_promo') in product.website_style_ids_variant) or (request.env.ref('website_sale.image_promo') in product.product_tmpl_id.website_style_ids)">
                              <i class="fa fa-tags fa-2x" title="News" />
                            </t>
                          </div>
                          <t t-if="product.is_offer_product">
                            <div class="col-md-6 lst-offer-wrapper">
                              <i class="fa fa-star-o fa-2x" title="Offer" />
                            </div>
                          </t>
                        </td>
                        <td>
                          <h5 class="col-md-6 col-sm-6 col-xs-12 list_product_name">
                            <div class="col-md-4 col-sm-4 col-xs-12">
                              <span t-field="product.default_code" />
                            </div>
                            <t t-set="purchase_phase" t-value="None" />
                            <t t-if="len(product.campaign_ids) &gt; 0">
                              <t t-if="len(product.campaign_ids[0].mapped('phase_ids').filtered(lambda p: p.reseller_pricelist)) &gt; 0">
                                <t t-set="purchase_phase" t-value="product.campaign_ids[0].mapped('phase_ids').filtered(lambda p: p.reseller_pricelist)[0]" />
                              </t>
                            </t>
                            <div itemprop="offers" itemscope="itemscope" itemtype="http://schema.org/Offer" t-att-class="'product_price col-md-6 col-sm-6 col-xs-12' if purchase_phase else 'product_price col-md-8 col-sm-8 col-xs-12'">
                              <strong>
                                <a t-att-href="keep('/dn_shop/variant/%s' % slug(product), page=(pager['page']['num'] if pager['page']['num']>1 else None))">
                                  <span itemprop="name" t-field="product.name" />
                                  <t t-if="len(product.attribute_value_ids) &gt; 0">
                                    <t t-foreach="product.attribute_value_ids" t-as="att">
                                      <t t-esc="', %s' %att.name" />
                                    </t>
                                  </t>
                                </a>
                              </strong>
                            </div>
                            <t t-if="purchase_phase">
                              <div class="col-md-2 col-sm-2 col-xs-12">
                                <span t-field="purchase_phase.end_date" />
                              </div>
                            </t>
                          </h5>
                          <div class="col-md-6 col-sm-6 col-xs-12 text-center">
                            <div class="col-md-5 col-sm-5 col-xs-12">
                              <h5>
                                <b>
                                  <span t-field="product.price" style="white-space: nowrap;" t-field-options='{
                                                                       "widget": "monetary",
                                                                       "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                                                                    }' />
                                  <span itemprop="price" style="display:none;" t-esc="product.price">
                                    <a class="btn btn-default btn-xs fa fa-shopping-cart" t-att-href="keep('/dn_shop/variant/%s' % slug(product), page=(pager['page']['num'] if pager['page']['num']>1 else None))" />
                                  </span>
                                  <span itemprop="priceCurrency" style="display:none;" t-esc="user_id.partner_id.property_product_pricelist.currency_id.name" class="decimal_precision" t-att-data-precision="website.pricelist_id.currency_id.rounding" />
                                </b>
                              </h5>
                            </div>
                            <form t-att-action="keep('/shop/cart/update')" class="oe_dn_list" t-att-data-attribute_value_ids="product.id" method="POST">
                              <div class="product_shop col-md-7 col-sm-7 col-xs-12" style="margin: 0px;">
                                <input type="hidden" class="product_id" name="product_id" t-att-value="int(product)" />
                                <input type="hidden" name="return_url" t-att-value="request.httprequest.url" />
                                <div class="css_quantity input-group oe_website_spinner">
                                  <span class="input-group-addon">
                                    <a t-attf-href="#" class="mb8 js_add_cart_json">
                                      <i class="fa fa-minus" />
                                    </a>
                                  </span>
                                  <input type="text" class="js_quantity form-control" data-min="1" name="add_qty" value="1" />
                                  <span class="input-group-addon">
                                    <a t-attf-href="#" class="mb8 float_left js_add_cart_json">
                                      <i class="fa fa-plus" />
                                    </a>
                                  </span>
                                </div>
                                <a id="add_to_cart" class="btn btn-default js_check_product a-submit" href="#">
                                  <i class="fa fa-shopping-cart a-submit" style="color: #CB683F;" />
                                </a>
                              </div>
                            </form>
                          </div>
                        </td>
                      </tr>
                    </t>
                  </tbody>
                </table>
-->
              </div>
            </div>
          </t>
          <div class="oe_structure mb32" />
        </div>
      </t>
    </template>
    <template id="cart" inherit_id="website_sale.cart">
      <xpath expr="//a[@t-attf-href='/shop/product/#{ slug(line.product_id.product_tmpl_id) }']" position="replace">
        <a t-attf-href="/dn_shop/variant/#{ slug(line.product_id) }">
          <strong t-if="line.product_id.default_code">
            [
            <t t-esc="line.product_id.default_code" />
            ]
          </strong>
          <strong t-esc="line.product_id.with_context(display_default_code=False).display_name" />
        </a>
      </xpath>
      <xpath expr="//td[@name='price']" position="replace">
        <td class="text-center" name="price" style="width: 200px;">
          <t t-if="user_id.partner_id.property_product_pricelist and not user_id.partner_id.property_product_pricelist.for_reseller">
            <span t-field="line.discounted_price" style="white-space: nowrap;" t-field-options='{
                            "widget": "monetary",
                            "from_currency": "website_sale_order.pricelist_id.currency_id",
                            "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                        }' />
          </t>
          <t t-if="user_id.partner_id.property_product_pricelist and user_id.partner_id.property_product_pricelist.for_reseller">
            <div>
              <span t-field="line.product_id.recommended_price" t-field-options='{
                              "widget": "monetary",
                              "from_currency": "line.product_id.company_id.currency_id",
                              "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                           }' />
              <span style="display: inline;">(rec inc tax)</span>
            </div>
            <div>
              <span style="white-space: nowrap;" t-field="line.discounted_price" t-field-options='{
                               "widget": "monetary",
                               "from_currency": "website_sale_order.pricelist_id.currency_id",
                               "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                           }' />
              <span style="display: inline;">(your ex tax)</span>
            </div>
          </t>
        </td>
      </xpath>
      <xpath expr="//table[@id='cart_products']/thead/tr" position="inside">
        <th />
      </xpath>
      <xpath expr="//table[@id='cart_products']/tbody/t/tr" position="inside">
        <td>
          <a class="js_remove_cart_json" href="#">
            <i class="fa fa-trash-o mt8" />
          </a>
        </td>
      </xpath>
    </template>
    <template id="checkout" inherit_id="website_sale.checkout">
      <xpath expr="//div[@class='js_shipping row mb16']" position="after">
        <t t-if="error">
          <t t-foreach="error.items()" t-as="e">
            <div class="alert alert-warning" t-esc="'%s %s' %(e[0], e[1])" />
          </t>
        </t>
      </xpath>
    </template>
    <template id="suggested_products_list" inherit_id="website_sale.suggested_products_list">
      <xpath expr="//tr[@t-foreach='suggested_products']" position="replace">
        <tr t-foreach="suggested_products" t-as="product">
          <td>
            <a t-attf-href="/dn_shop/variant/#{ slug(product) }">
              <span t-field="product.image_small" t-field-options='{"widget": "image", "class": "img-rounded"}' />
            </a>
          </td>
          <td>
            <div>
              <a t-attf-href="/dn_shop/variant/#{ slug(product) }">
                <strong t-field="product.display_name" />
              </a>
            </div>
            <div class="text-muted" t-field="product.description_sale" />
          </td>
          <td style="width: 200px;">
            <t t-if="user_id.partner_id.property_product_pricelist and not user_id.partner_id.property_product_pricelist.for_reseller">
              <span t-field="product.price" style="white-space: nowrap;" t-field-options='{
                               "widget": "monetary",
                               "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                           }' />
            </t>
            <t t-if="user_id.partner_id.property_product_pricelist and user_id.partner_id.property_product_pricelist.for_reseller">
              <div>
                <span t-field="product.recommended_price" t-field-options='{
                                  "widget": "monetary",
                                  "from_currency": "product.company_id.currency_id",
                                  "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                               }' />
                <span style="display: inline;">(rec inc tax)</span>
              </div>
              <div>
                <span t-field="product.price" style="white-space: nowrap;" t-field-options='{
                                   "widget": "monetary",
                                   "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                                }' />
                <span style="display: inline;">(your ex tax)</span>
              </div>
            </t>
          </td>
          <td class="text-center">
            <form action="/shop/cart/update" method="post">
              <input name="product_id" t-att-value="product.id" type="hidden" />
              <a class="btn btn-link a-submit">
                <strong>Add to Cart</strong>
              </a>
            </form>
          </td>
        </tr>
      </xpath>
    </template>
    <template id="continue_shopping" inherit_id="website_sale.continue_shopping">
      <xpath expr="//a[@href='/shop']" position="replace">
        <t t-if="url == '/dn_list'">
          <a href="/dn_list" class="btn btn-default mb32">
            <span class="fa fa-long-arrow-left" />
            <span class="hidden-xs">Continue Shopping</span>
            <span class="visible-xs-inline">Continue</span>
          </a>
        </t>
        <t t-if="url == '/dn_shop'">
          <a href="/dn_shop" class="btn btn-default mb32">
            <span class="fa fa-long-arrow-left" />
            <span class="hidden-xs">Continue Shopping</span>
            <span class="visible-xs-inline">Continue</span>
          </a>
        </t>
      </xpath>
    </template>
    <template id="main_search_layout" inherit_id="website_sale_previous_products.main_search_layout">
      <xpath expr="//t[@t-as='p']/li/a" position="attributes">
        <attribute name="t-att-href">'/dn_shop/product/%s' %p.id</attribute>
      </xpath>
    </template>
    <template id="search_layout" inherit_id="website_fts_popular.search_layout">
      <xpath expr="//t[@t-foreach='popular_terms']/li/a" position="attributes">
        <attribute name="t-att-href">'/dn_shop?search=%s' %pt.name</attribute>
      </xpath>
    </template>
    <template id="products_attributes_search" inherit_id="products" active="False" customize_show="True" name="Product Attribute's Search">
      <xpath expr="//t[@t-call='website_sale.search']" position="after">
        <div>
          <form class="js_attributes" method="get">
            <input type="hidden" name="search" t-att-value="search" />
            <select class="oe_select2_search js-states form-control" multiple="multiple" name="attrib">
              <t t-foreach="attributes" t-as="a">
                <t t-if="a.value_ids and a.type != 'hidden'">
                  <optgroup t-att-label="a.name">
                    <t t-foreach="a.value_ids" t-as="v">
                      <option t-att-value="'%s-%s' % (a.id,v.id)" t-att-selected="'selected' if v.id in attrib_set else ''">
                        <t t-esc="'%s: %s' % (a.name, v.name)" />
                      </option>
                    </t>
                  </optgroup>
                </t>
              </t>
            </select>
          </form>
        </div>
      </xpath>
    </template>
    <template id="dermanord_product_detail" inherit_id="website_sale.product">
      <a id="add_to_cart" position="after">
        <input id="sale_ok" name="sale_ok" type="hidden" t-att-value="product.sale_ok" />
        <p id="sale_start_info" class="hidden">
          Start:
          <span id="sale_start" />
        </p>
      </a>
      <xpath expr="//form[@class='js_add_cart_variants']" position="inside">
        <input name="return_url" type="hidden" t-att-value="request.httprequest.url" />
      </xpath>
      <xpath expr="//ol[@class='breadcrumb']/.." position="replace" />
      <xpath expr="//t[@t-call='website_sale.search']/.." position="attributes">
        <attribute name="class">col-sm-3 hidden</attribute>
      </xpath>
      <xpath expr="//h1[@itemprop='name']" position="after">
        <h4 class="text-muted default_code" t-field="product_product.default_code" />
      </xpath>
      <xpath expr="//a[@id='add_to_cart']" position="attributes">
        <attribute name="class"></attribute>
        <attribute name="t-att-class">'dn_btn dn_primary mt8 js_check_product a-submit text-center %s' %('hidden' if not show_purchase_button else '')</attribute>
        <attribute name="groups">base.group_user,base.group_portal</attribute>
      </xpath>
      <!--
           <xpath expr="//form[@class='js_add_cart_variants']" position="after">
           <div>
           <h3>Lagerstatus</h3>
           <span t-if="product.sudo().qty_available &gt; 5">I lager</span>
           <span t-if="product.sudo().qty_available &gt; 2 and product.sudo().qty_available &lt; 6">Få i lager</span>
           <span t-if="product.sudo().qty_available &lt; 2">Slut</span>
           </div>
           </xpath>
      -->
      <xpath expr="//p[@class='text-muted']" position="attributes">
        <attribute name="class">text-muted hidden</attribute>
      </xpath>
      <xpath expr="//p[@t-field='product.description_sale']" position="replace">
        <h2 t-if='product.description_sale' class="hidden">Description</h2>
        <p t-field="product.description_sale" class="text-muted hidden" />
<!--
        <h2 t-att-class="'public_desc_title%s' %(' hidden' if not product_product.public_desc else '')">Public Description</h2>
-->
        <p t-att-class="'text-muted public_desc%s' %(' hidden' if not product_product.public_desc else '')">
          <span t-field="product_product.public_desc" />
        </p>
        <h4 class="show_more_facet text-center hidden-lg hidden-md hidden-sm" style="text-decoration: underline;">
          More info
          <i class="fa fa-angle-down" />
        </h4>
        <div class="container facet_container hidden-xs">
          <div class="col-md-12 no_padding_div">
            <h2 t-att-class="'use_desc_title dn_uppercase%s' %(' hidden' if not product_product.use_desc else '')">Directions</h2>
            <p t-att-class="'text-muted use_desc%s' %(' hidden' if not product_product.use_desc else '')">
              <span t-field="product_product.use_desc" />
            </p>
            <t t-if="user_id.partner_id.property_product_pricelist and user_id.partner_id.property_product_pricelist.for_reseller">
              <h2 t-att-class="'reseller_desc_title dn_uppercase%s' %(' hidden' if not product_product.reseller_desc else '')">For Resellers</h2>
              <p t-att-class="'text-muted reseller_desc%s' %(' hidden' if not product_product.reseller_desc else '')">
                <t t-if="product_product.reseller_desc">
                  <span t-field="product_product.reseller_desc" />
                </t>
              </p>
            </t>
          </div>
          <div class="col-md-12 facet_div">
            <t t-if="product_product and product_product.facet_line_ids">
              <div class="col-md-6">
                <t t-foreach="product_product.facet_line_ids.mapped('facet_id')" t-as="facet">
                  <h2 class="dn_uppercase" t-field="facet.name" />
                  <t t-set="facet_value_ids" t-value="product_product.facet_line_ids.mapped('value_ids') &amp; facet.value_ids" />
                  <t t-foreach="facet_value_ids" t-as="value">
                    <a t-att-href="'/dn_shop/?facet_%s_%s=%s' %(facet.id, value.id, value.id)" class="text-muted">
                      <span t-field="value.name" />
                    </a>
                    <span t-if="value_index != len(facet_value_ids)-1">,</span>
                  </t>
                </t>
              </div>
            </t>
            <t t-if="not product_product and product.facet_line_ids">
              <div class="col-md-6">
                <t t-foreach="product.facet_line_ids.mapped('facet_id')" t-as="facet">
                  <h2 class="dn_uppercase" t-field="facet.name" />
                  <t t-set="facet_value_ids" t-value="product.facet_line_ids.mapped('value_ids') &amp; facet.value_ids" />
                  <t t-foreach="facet_value_ids" t-as="value">
                    <a t-att-href="'/dn_shop/?facet_%s_%s=%s' %(facet.id, value.id, value.id)" class="text-muted">
                      <span t-field="value.name" />
                    </a>
                    <span t-if="value_index != len(facet_value_ids)-1">,</span>
                  </t>
                </t>
              </div>
            </t>
          </div>
        </div>
        <h4 class="hide_more_facet text-center hidden-lg hidden-md hidden-sm hidden" style="text-decoration: underline;">
          Less info
          <i class="fa fa-angle-up" />
        </h4>
      </xpath>
      <xpath expr="//div[@itemprop='description']" position="after">
        <div class="oe_structure oe_empty mt32 mb32">
          <!-- inactive product’s experiences
               <div class="container">
               <h2 class="text-center dn_uppercase">This product’s experiences</h2>
               <t t-call="webshop_dermanord.product_experiences" />
               <t t-call="webshop_dermanord.product_experiences_wide" />
               </div>
          -->
          <!-- inactive product range
               <div class="container mt32">
               <h2 class="text-center dn_uppercase">Product range</h2>
               <div t-foreach="request.env['product.template'].search([('public_categ_ids','in',product.public_categ_ids.mapped('id')),('website_published','=',True),('id','!=',product.id)])[:4]" t-as="p">

               <t t-call="website_product_templates.product_view" />

               <t t-call="webshop_dermanord.products_item">
               <t t-set="pager" t-value="{'page': {'num': 1}}"/>
               </t>
               </div>
               </div>
          -->
          <t t-set="useless_var_6446547657" t-value="website.sale_add_previous_product(product.id)" />
          <!-- inactive recently viewed
               <div class="container mt32">
               <h2 class="text-center dn_uppercase">Recently viewed</h2>
               <div t-foreach="website.sale_get_previous_products().with_context(pid=product.id).filtered(lambda p: p.id != p.env.context['pid'])[:4]" t-as="p">

               <t t-call="website_product_templates.product_view" />

               <t t-call="webshop_dermanord.products_item">
               <t t-set="pager" t-value="{'page': {'num': 1}}"/>
               </t>
               </div>
               </div>
          -->
        </div>
      </xpath>
      <xpath expr="//p[@class='text-muted' and not(@t-field='product.description_sale')]" position="replace" />
    </template>
    <template id="variants" inherit_id="website_sale.variants">
      <xpath expr="//option[@t-att-value='value_id.id']" position="replace">
        <option t-att-value="value_id.id" t-att="{'selected': 'checked'} if value_id.id in variant_list else {}">
          <span t-field="value_id.name" />
        </option>
      </xpath>
      <xpath expr="//label[@t-attf-style='background-color:#{value_id.color or value_id.name}']" position="replace">
        <t t-if="value_id.image">
          <label t-attf-style="background-image:url('data:image/png;base64,#{value_id.image}') !important; background-size: cover; background-repeat:no-repeat; background-position: center center; background-color:#{value_id.color or value_id.name}" t-attf-class="css_attribute_color #{'active' if not inc else ''}">
            <input type="radio" class="js_variant_change" t-att-checked="'checked' if not inc else ''" t-att-name="'attribute-%s-%s' % (product.id, variant_id.attribute_id.id)" t-att-value="value_id.id" data-toggle="tooltip" data-trigger="click" data-placement="top" t-att-title="value_id.name" />
          </label>
        </t>
        <t t-if="not value_id.image">
          <label t-attf-style="background-color:#{value_id.color or value_id.name}" t-attf-class="css_attribute_color #{'active' if not inc else ''}">
            <input type="radio" class="js_variant_change" t-att-checked="'checked' if not inc else ''" t-att-name="'attribute-%s-%s' % (product.id, variant_id.attribute_id.id)" t-att-value="value_id.id" data-toggle="tooltip" data-trigger="click" data-placement="top" t-att-title="value_id.name" />
          </label>
        </t>
      </xpath>
      <xpath expr="//strong[@t-field='variant_id.attribute_id.name']" position="after">
        <t t-set="accessable_value_ids" t-value="request.env['product.attribute.value'].browse()" />
        <!--
             <t t-foreach="product.product_variant_ids.with_context({'user_id': user_id}).filtered(lambda v: (not v.access_group_ids) or v._context.get('user_id') in v.sudo().access_group_ids.mapped('users'))" t-as="variant">
        -->
        <t t-foreach="product.product_variant_ids" t-as="variant">
          <t t-foreach="variant.attribute_value_ids" t-as="v">
            <t t-if="v in variant_id.value_ids">
              <t t-set="accessable_value_ids" t-value="accessable_value_ids | v" />
            </t>
          </t>
        </t>
      </xpath>
      <xpath expr="//select[@class='form-control js_variant_change']/t[@t-foreach='variant_id.value_ids']" position="attributes">
        <attribute name="t-foreach">accessable_value_ids</attribute>
      </xpath>
      <xpath expr="//ul[@class='list-unstyled']/t[@t-foreach='variant_id.value_ids']" position="attributes">
        <attribute name="t-foreach">accessable_value_ids</attribute>
      </xpath>
      <xpath expr="//ul[@class='list-inline']/li[@t-foreach='variant_id.value_ids']" position="attributes">
        <attribute name="t-foreach">accessable_value_ids</attribute>
      </xpath>
    </template>
    <template id="product_price" inherit_id="website_sale.product_price">
      <xpath expr="//h4" position="replace">
        <p class="oe_price_h4 css_editable_mode_hidden decimal_precision" t-att-data-precision="user_id.partner_id.property_product_pricelist.currency_id.rounding">
          <t t-if="is_reseller">
<!--
            <div>
              <span class="oe_recommended_price" t-field="product.list_price_tax" t-field-options='{
                              "widget": "monetary",
                              "from_currency": "product.company_id.currency_id",
                              "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                           }' />
              <span style="display: inline;">(rec inc tax)</span>
            </div>
-->
            <b class="oe_price" style="white-space: nowrap;" t-field="product.dv_price" t-field-options='{
                               "widget": "monetary",
                               "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                           }' />
            <span itemprop="price" style="display:none;" t-esc="product.price" />
            <span itemprop="priceCurrency" style="display:none;" t-esc="user_id.partner_id.property_product_pricelist.currency_id.name" class='decimal_precision' t-att-data-precision="website.pricelist_id.currency_id.rounding" />
            <span style="display: inline;">(your ex tax)</span>
          </t>
          <t t-if="not is_reseller">
<!--
            <span class="text-danger oe_default_price" style="text-decoration: line-through; white-space: nowrap;" t-field="product.lst_price" t-field-options='{
                          "widget": "monetary",
                          "from_currency": "product.company_id.currency_id",
                          "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                       }' />
-->
            <b class="oe_recommended_price" style="white-space: nowrap;" t-field="product.dv_recommended_price" t-field-options='{
                           "widget": "monetary",
                           "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                       }' />
            <span itemprop="price" style="display:none;" t-esc="product.price" />
            <span itemprop="priceCurrency" style="display:none;" t-esc="user_id.partner_id.property_product_pricelist.currency_id.name" class='decimal_precision' t-att-data-precision="website.pricelist_id.currency_id.rounding" />
          </t>
        </p>
      </xpath>
      <!--
           <xpath expr="//span[@class='text-danger oe_default_price']" position="attributes">
           <attribute name="class">text-danger oe_default_price hidden</attribute>
           </xpath>
           <xpath expr="//b[@class='oe_price']" position="attributes">
           <attribute name="class">oe_price hidden</attribute>
           </xpath>
           <xpath expr="//b[@t-field='product.price']" position="after">
           <span class="text-danger oe_default_price" style="text-decoration: line-through; white-space: nowrap;"
           t-field="product.list_price_tax"
           t-field-options='{
           "widget": "monetary",
           "from_currency": "product.company_id.currency_id",
           "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
           }'/>
           <b class="oe_price" style="white-space: nowrap;"
           t-field="product.price_tax"
           t-field-options='{
           "widget": "monetary",
           "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
           }'/>
           </xpath>
      -->
    </template>
    <!-- Produktvisning enskild produkt -->
    <template id="product_view" name="Product View">
      <div t-att-class="'col-md-2 %s col-sm-3 col-xs-4   thumbnail' % ('col-md-offset-2 col-sm-offset-1 col-xs-offset-2' if p_index == 0 else '')" style="webkit-justify-content: center;
  justify-content: center;
  display: flex; margin-right: 5px; height: 250px;">
        <div class='mt16 text-center' style="padding: 0 15px;">
          <span t-field="p.image_small" t-field-options='{"widget": "image", "class": "img-rounded shadow" }' />
          <h5>
            <a t-attf-href="/dn_shop/product/#{ slug(p) }" style="display: block">
              <span t-field='p.name' style="display: block" />
            </a>
          </h5>
          <b>
<!--
            <t t-if="(compute_currency(p.lst_price) - p.price) &gt; 0.1">
              <del class="text-danger oe_vertel_product_view_old_price" t-field="p.lst_price" t-field-options='{
                                "widget": "monetary",
                                "from_currency": "p.company_id.currency_id",
                                "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                            }' />
              &amp;nbsp;
            </t>
-->
            <span class="oe_vertel_product_view_price" t-field="p.price" t-field-options='{
                            "widget": "monetary",
                            "display_currency": "user_id.partner_id.property_product_pricelist.currency_id"
                        }' />
          </b>
        </div>
      </div>
    </template>
    <template id="product_experiences" name="Product Experiences">
      <t t-set="blog_posts" t-value="product.blog_post_ids.filtered(lambda p: p.blog_id == p.env.ref('webshop_dermanord.blog_experiences'))" />
      <t t-set="offset_value" t-value="0" />
      <t t-if="len(blog_posts) == 1">
        <t t-set="offset_value" t-value="'col-md-offset-4 col-sm-offset-4'" />
      </t>
      <t t-if="len(blog_posts) == 2">
        <t t-set="offset_value" t-value="'col-md-offset-2 col-sm-offset-2'" />
      </t>
      <t t-foreach="blog_posts[:3]" t-as="post">
        <div t-att-class="'col-md-4 %s col-sm-4 col-xs-12 blog_block' %(offset_value if post_index == 0 else '')">
          <div class="image_block" t-att-style="&quot;background-image: url('/imagefieldurl/blog.post/background_image/%s/id/%s')&quot; %(post.id, request.env.ref('webshop_dermanord.experiences_four_three_small').id)">
            <a t-att-href="'/blog/%s/post/%s' %(post.blog_id.id, post.id)" class="image_block_text text-center">
              <h3 t-field="post.name" />
            </a>
          </div>
        </div>
      </t>
    </template>
    <template id="product_experiences_wide" name="Product Experiences Wide">
      <t t-set="blog_posts" t-value="product.blog_post_ids.filtered(lambda p: p.blog_id == p.env.ref('webshop_dermanord.blog_experiences'))" />
      <t t-set="offset_value" t-value="0" />
      <t t-if="len(blog_posts) == 1">
        <t t-set="offset_value" t-value="'col-md-offset-3 col-sm-offset-3'" />
      </t>
      <t t-foreach="blog_posts[:2]" t-as="post">
        <div t-att-class="'col-md-6 %s col-sm-6 col-xs-12 blog_block' %(offset_value if post_index == 0 else '')">
          <div class="image_block_wide" t-att-style="&quot;background-image: url('/imagefieldurl/blog.post/background_image/%s/id/%s')&quot; %(post.id, request.env.ref('webshop_dermanord.experiences_sixteen_nine_small').id)">
            <a t-att-href="'/blog/%s/post/%s' %(post.blog_id.id, post.id)" class="image_block_text text-center">
              <h3 t-field="post.name" />
            </a>
          </div>
        </div>
      </t>
    </template>
  </data>
</openerp>
