<?xml version="1.0" encoding="utf-8"?>
<openerp>

    <data>

<!--
        <template id="breadcrumb_dermanord" inherit_id="website.layout">
            <xpath expr="//t[@t-raw='0']" position="before">
                <t t-if="not no_breadcrumb and website">
                    <t t-raw="website.get_breadcrumb(request.httprequest.path)"/>
                </t>
            </xpath>
        </template>
-->

        <template id="view_type" name="View Type">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="col-md-8 col-sm-8"/>
                <div class="col-md-4 col-sm-4 col-xs-12">
                    <form action="/resellers?view=map" method="post" class="col-md-4 col-sm-4 col-xs-12">
                        <t t-foreach="request.session.get('form_values').iteritems()" t-as="item">
                            <t t-if="item[0] not in ['post_form', 'view']">
                                <input t-att-name="item[0]" t-att-value="item[1]" type="hidden"/>
                            </t>
                        </t>
                        <input name="view" value="map" type="hidden"/>
                        <button class="mt16 dn_btn dn_primary" type="submit"><i class="fa fa-map-marker"/></button>
                    </form>
                    <form action="/resellers?view=city" method="post" class="col-md-4 col-sm-4 col-xs-12">
                        <t t-foreach="request.session.get('form_values').iteritems()" t-as="item">
                            <t t-if="item[0] not in ['post_form', 'view']">
                                <input t-att-name="item[0]" t-att-value="item[1]" type="hidden"/>
                            </t>
                        </t>
                        <input name="view" value="city" type="hidden"/>
                        <button class="mt16 dn_btn dn_primary" type="submit"><i class="fa fa-building"/></button>
                    </form>
                    <form action="/resellers?view=country" method="post" class="col-md-4 col-sm-4 col-xs-12">
                        <t t-foreach="request.session.get('form_values').iteritems()" t-as="item">
                            <t t-if="item[0] not in ['post_form', 'view']">
                                <input t-att-name="item[0]" t-att-value="item[1]" type="hidden"/>
                            </t>
                        </t>
                        <input name="view" value="country" type="hidden"/>
                        <button class="mt16 dn_btn dn_primary" type="submit"><i class="fa fa-flag"/></button>
                    </form>
                </div>
            </div>
        </template>

        <template id="resellers" name="Resellers">
            <t t-call="theme_dermanord.submenu_dermanord">
                <div id="wrap">
                    <div class="oe_structure"/>
                    <div t-if="not competence" class="col-md-12 col-sm-12 col-xs-12 dn_header_container" style="padding: 0px; background-color: #000;">
                        <img alt="Odoo CMS - a big picture" class="img img-responsive" t-att-src="'/imagefield/ir.attachment/datas/%s/ref/theme_dermanord.dn_header_img' %request.env.ref('reseller_dermanord.find_reseller_top_img').id" style="margin: 0 auto; width: 100%; max-width: 1366px;"/>
                    </div>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12 col-sm-12 col-xs-12 mb16">
                                <div class="readable">
                                    <h6 class="text-center">Hitta en återförsäljare nära dig</h6>
                                    <p>Du hittar MARIA ÅKERBERG hos välutbildade hud- och spaterapeuter och massörer, som både säljer våra produkter och använder dem i sina professionella behandlingar.</p>
                                    <p>Använd sökfältet nedan för att hitta en återförsäljare i din närhet. Klicka på återförsäljaren för att se öppettider, besöksadress och annan information om salongen.</p>
                                    <p>I sökfältet kan du ange namn, stad och land.</p>
                                </div>
                                <form t-att-action="('/resellers/competence/%s' % competence.id) if competence else '/resellers'" method="post" class="pagination form-inline col-md-12 col-sm-12 col-xs-12 mb16">
                                    <div class="container text-center">
                                        <div class="input-group">
                                            <input name="search_resellers" class="form-control" placeholder="Search..." type="text"/>
                                            <span class="input-group-btn">
                                                <button type="submit" class="btn btn-default">
                                                    <i class="fa fa-search" />
                                                </button>
                                            </span>
                                        </div>
                                    </div>
                                </form>
                                <div class="readable">
                                    <h2 class=""><i>Vill du bli återförsäljare?</i></h2>
                                    <p>Vill du också använda och sälja MARIA ÅKERBERG?</p>
                                    <p><a href="/reseller_register/new">Läs mer om hur vi samarbetar och anmäl ditt intresse här.</a></p>
                                </div>
                                <div class="col-md-12 col-sm-12 col-xs-12 mb16">
                                    <div class="readable">
                                        <t t-if="resellers">
                                            <t t-foreach="resellers" t-as="reseller">
                                                <div class="reseller_cell col-md-4 col-sm-4 col-xs-12">
                                                    <t t-set="visit" t-value="reseller.child_ids.filtered(lambda c: c.type == 'visit')"/>
                                                    <t t-if="not visit">
                                                        <t t-set="visit" t-value="reseller.commercial_partner_id"/>
                                                    </t>
                                                    <a t-att-href="'/reseller/%s' %reseller.id"><h4><strong><t t-esc="reseller.brand_name if reseller.brand_name else reseller.name"/></strong></h4></a>
                                                    <!--<p class="text-muted"><t t-esc="','.join(reseller.category_id.mapped('name'))"/></p>-->
                                                    <p>
                                                        <span t-if="visit.street" t-esc="visit.street"/><br/>
                                                        <t t-if="visit.street2 and not visit.street"><span t-esc="visit.street2"/><br/></t>
                                                        <span t-if="visit.zip" t-esc="visit.zip"/> <span t-if="visit.city" t-esc="visit.city"/><br/>
                                                        <span t-if="reseller.country_id" t-esc="reseller.country_id.name"/>
                                                    </p>
<!--
                                                    <t t-if="visit.email"><p style="text-decoration: underline;"><a t-att-href="'mailto:%s' %visit.email"><span t-esc="visit.email"/></a></p></t>
                                                    <t t-if="visit.phone"><p><a t-att-href="'tel:%s' %visit.phone"><span t-esc="visit.phone"/></a></p></t>
                                                    <t t-if="reseller.website"><p style="text-decoration: underline;"><a t-att-href="reseller.website"><span t-esc="reseller.website.replace('http://', '')"/></a></p></t>
-->
                                                </div>
                                            </t>
                                        </t>
<!--
                                        <t t-if="not resellers">
                                            <h3 class="text-center">No reseller found</h3>
                                        </t>
-->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="oe_structure"/>
            </t>
        </template>

        <template id="reseller" name="Reseller">
            <t t-call="website.layout">
                <div id="wrap">
                    <div class="oe_structure"/>
                    <div class="col-md-12 col-sm-12 col-xs-12" style="background-color: #000;">
                        <span itemprop="image" t-field="reseller.top_image" t-field-options='{"widget": "image", "class": "css_non_editable_mode_hidden", "alt-field": "name"}'/>
                        <img class="img img-responsive css_editable_mode_hidden" t-att-src="'/imagefield/res.partner/top_image/%s/ref/reseller_dermanord.reseller_top_image' %reseller.id if reseller.top_image else '/imagefield/ir.attachment/datas/%s/ref/reseller_dermanord.reseller_top_image' %request.env.ref('reseller_dermanord.find_reseller_top_img').id" style="margin: auto;"/>
                    </div>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-8 col-sm-8 mt32 mb16 hidden-xs">
                                <div id="reseller_description_div">
                                    <t t-if="reseller.website_short_description">
                                        <h3 style="margin-top: 12px;">Welcome</h3>
                                        <t t-foreach="reseller.website_short_description.split('\n')" t-as="r">
                                            <p><t t-esc="r"/></p>
                                        </t>
                                    </t>
<!--
                                    <p class="read-more hidden"><a href="#" class="button">Read More</a></p>
-->
                                </div>
                                <t t-if="reseller.child_competence_ids">
                                    <h3>Our competences</h3>
                                    <ul t-foreach="reseller.child_competence_ids" t-as="categ">
                                        <li><span t-esc="categ.name"/></li>
                                    </ul>
                                </t>
                                <t t-if="reseller.webshop_category_ids">
                                    <h3>Our Product Categories</h3>
                                    <ul t-foreach="reseller.webshop_category_ids" t-as="wcateg">
                                        <li><span t-esc="wcateg.name"/></li>
                                    </ul>
                                </t>
                                <t t-if="reseller.website">
                                    <h3>Our Webshop</h3>
                                    <a t-att-href="reseller.website"><span t-esc="reseller.website.replace('http://', '')"/></a>
                                </t>
                            </div>
                            <div class="reseller_cell col-md-4 col-sm-4 col-xs-12 mt16 mb16">
                                <h1><t t-esc="reseller.brand_name if reseller.brand_name else reseller.name"/></h1>
                                <t t-set="visit" t-value="reseller.child_ids.filtered(lambda c: c.type == 'visit') if reseller.is_company else None"/>
                                <t t-if="not visit">
                                    <t t-set="visit" t-value="reseller.commercial_partner_id"/>
                                </t>
                                <div class="col-xs-12 mb16 hidden-lg hidden-md hidden-sm" style="padding: 0px;">
                                    <div id="reseller_description_div">
                                        <h3 style="margin-top: 12px;">Welcome</h3>
                                        <t t-if="reseller.website_short_description">
                                            <t t-foreach="reseller.website_short_description.split('\n')" t-as="r">
                                                <p><t t-esc="r"/></p>
                                            </t>
                                        </t>
                                        <p class="read-more hidden"><a href="#" class="button">Read More</a></p>
                                    </div>
                                    <t t-if="reseller.child_competence_ids">
                                        <h3>Our competences</h3>
                                        <ul t-foreach="reseller.child_competence_ids" t-as="categ">
                                            <li><span t-esc="categ.name"/></li>
                                        </ul>
                                    </t>
                                    <t t-if="reseller.webshop_category_ids">
                                        <h3>Our Product Categories</h3>
                                        <ul t-foreach="reseller.webshop_category_ids" t-as="wcateg">
                                            <li><span t-esc="wcateg.name"/></li>
                                        </ul>
                                    </t>
                                    <t t-if="reseller.website">
                                        <h3>Our Webshop</h3>
                                        <a t-att-href="reseller.website"><span t-esc="reseller.website.replace('http://', '')"/></a>
                                    </t>
                                </div>
                                <!-- Google maps -->
                                <t t-if="visit and visit.partner_latitude &gt; 0.0">
                                    <t t-call="website_partner_google_maps.google_maps">
                                        <t t-set="div_class" t-value="'mt16'"/>
                                        <t t-set="width" t-value="'100%'"/>
                                        <t t-set="height" t-value="'400px'"/>
                                        <t t-set="zoom" t-value="12"/>
                                        <t t-set="center" t-value="visit"/>
                                        <t t-set="partners" t-value="visit"/>
                                        <t t-set="icon" t-value="'/reseller_dermanord/static/src/img/dn_maps_marker.png'"/>
                                        <t t-set="api_key" t-value="request.env['ir.config_parameter'].get_param('google_maps_api')"/>
                                    </t>
                                </t>
                                <hr/>
                                <h4 class="dn_uppercase">Address</h4>
                                <p>
                                    <t t-if="visit.street"><span t-esc="visit.street"/><br/></t>
                                    <t t-if="visit.street2"><span t-esc="visit.street2"/><br/></t>
                                    <t t-if="visit.zip"><span t-esc="visit.zip"/></t> <t t-if="visit.city"><span t-esc="visit.city"/><br/></t>
                                    <t t-if="reseller.country_id"><span t-esc="reseller.country_id.name"/></t>
                                </p>
                                <hr/>
                                <h4 class="dn_uppercase">Opening hours</h4>
                                    <p>Mon: <span t-esc="reseller.opening_hours_ids[0].opening_hours if len(reseller.opening_hours_ids) &gt; 0 else None"/></p>
                                    <p>Tue: <span t-esc="reseller.opening_hours_ids[1].opening_hours if len(reseller.opening_hours_ids) &gt; 1 else None"/></p>
                                    <p>Wed: <span t-esc="reseller.opening_hours_ids[2].opening_hours if len(reseller.opening_hours_ids) &gt; 2 else None"/></p>
                                    <p>Thu: <span t-esc="reseller.opening_hours_ids[3].opening_hours if len(reseller.opening_hours_ids) &gt; 3 else None"/></p>
                                    <p>Fri: <span t-esc="reseller.opening_hours_ids[4].opening_hours if len(reseller.opening_hours_ids) &gt; 4 else None"/></p>
                                    <p>Sat: <span t-esc="reseller.opening_hours_ids[5].opening_hours if len(reseller.opening_hours_ids) &gt; 5 else None"/></p>
                                    <p>Sun: <span t-esc="reseller.opening_hours_ids[6].opening_hours if len(reseller.opening_hours_ids) &gt; 6 else None"/></p>
                                    <t t-if="reseller.opening_hours_exceptions">
                                        <div>
                                            <h4>Exceptions</h4>
                                            <t t-foreach="reseller.opening_hours_exceptions.split('\n')" t-as="opening_hour_line">
                                                <p t-esc="opening_hour_line"/>
                                            </t>
                                        </div>
                                    </t>
                                <hr/>
                                <h4 class="dn_uppercase">Contact</h4>
                                <p>
                                    <t t-if="visit.phone">Telephone: <a t-att-href="'tel:%s' %visit.phone"><span t-esc="visit.phone"/></a><br/></t>
                                    <t t-if="visit.email">Email: <a t-att-href="'mailto:%s' %visit.email"><span t-esc="visit.email"/></a><br/></t>
                                    <t t-if="reseller.website">Website: <a t-att-href="reseller.website"><span t-esc="reseller.website.replace('http://', '')"/></a></t>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="oe_structure"/>
<!--
                <script>
                  function initMap() {
                    var sweden = {lat: 59.6144081, lng: 17.7168579};
                    var map = new google.maps.Map(document.getElementById('map'), {
                      zoom: 4,
                      center: sweden
                    });
                    <t t-foreach="resellers_geo" t-as="geo"><t t-raw="geo"/></t>
                  }
                </script>
-->
            </t>
        </template>

        <template id="resellers_search_cosumer" name="Resellers Search Consumer">
            <t t-call="website.layout">
                <div id="wrap">
                    <div class="oe_structure"/>
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12 col-sm-12 col-xs-12 mb16">
                                <form t-att-action="'/resellers/search/%s' % product.id" method="post" class="pagination form-inline col-md-12 col-sm-12 col-xs-12 mb16">
                                    <div class="container text-center">
                                        <div class="input-group">
                                            <input name="search_resellers" class="form-control" placeholder="Search..." type="text"/>
                                            <span class="input-group-btn">
                                                <button type="submit" class="btn btn-default">
                                                    <i class="fa fa-search" />
                                                </button>
                                            </span>
                                        </div>
                                        <div class="input-group">
                                            <div class="checkbox">
                                                <label><input name="salon" type="checkbox" value="1"/>Salon</label>
                                            </div>
                                        </div>
                                        <div class="input-group">
                                            <div class="checkbox">
                                                <label><input name="webshop" type="checkbox" value="1"/>Webshop</label>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                                <div class="col-md-12 col-sm-12 col-xs-12 mb16">
                                    <t t-if="len(resellers) &gt; 0">
                                        <table class="table table-responsive table-striped">
                                            <thead>
                                                <th>Salon name</th>
                                                <th>City</th>
                                                <th>Link</th>
                                            </thead>
                                            <tbody>
                                                <t t-foreach="resellers" t-as="reseller">
                                                    <tr>
                                                        <t t-set="visit" t-value="reseller.child_ids.filtered(lambda c: c.type == 'visit')"/>
                                                        <t t-if="visit">
                                                            <td t-esc="reseller.name"/>
                                                            <td t-esc="visit.city"/>
                                                            <td>
                                                                <t t-if="link_type == 'salon'">
                                                                    <a t-att-href="'/reseller/%s' %reseller.id">Go to reseller</a>
                                                                </t>
                                                                <t t-if="link_type == 'webshop'">
                                                                    <a t-att-href="'http://%s' %reseller.webshop_website" target="_blank">Go to reseller</a>
                                                                </t>
                                                            </td>
                                                        </t>
                                                    </tr>
                                                </t>
                                            </tbody>
                                        </table>
                                    </t>
                                    <t t-if="len(resellers) == 0 and not_found_msg != ''">
                                        <h2 class="text-center" t-esc="not_found_msg"/>
                                    </t>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="oe_structure"/>
            </t>
        </template>

        <template id="home_page" inherit_id="website_sale_home.home_page" name="Home Page Inherited Reseller Dermanord">
            <xpath expr="//label[@for='website_short_description']/.." position="attributes">
                <attribute name="t-if">not home_user.partner_id.commercial_partner_id.is_reseller</attribute>
            </xpath>
            <xpath expr="//t[@t-call='website_sale_home.company_info_form']" position="before">
                <t t-if="home_user.partner_id.commercial_partner_id.is_reseller">
                    <div class="form-group">
                        <label class="col-md-3 col-sm-4 control-label" for="brand_name">Brand Name</label>
                        <div class="col-md-7 col-sm-8">
                            <input id="brand_name" type="text" class="form-control" name="brand_name" placeholder="Brand Name..." t-att-value="home_user.partner_id.commercial_partner_id.brand_name" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 col-sm-4 control-label">Competences</label>
                        <div class="col-md-7 col-sm-8">
                            <t t-foreach="home_user.sudo().partner_id.commercial_partner_id.child_competence_ids or []" t-as="tag">
                                <span t-esc="tag.name" class="oe_website_home_partner_tag"/>
                            </t>
                        </div>
                    </div>
                    <div t-att-class="'form-group %s' % validation.get('webshop_category_ids', '')">
                        <label class="col-md-3 col-sm-4 control-label" for="webshop_category_ids">Product Categories</label>
                        <div class="col-md-7 col-sm-8">
                            <t t-foreach="webshop_category_ids" t-as="category">
                                <div class="col-md-4 col-sm-6 col-xs-11 col-sm-offset-0 col-xs-offset-1">
                                    <input type="checkbox" name="webshop_category_ids" t-att-value="category[0]" t-att="{'checked': '1'} if category[0] in home_user.partner_id.commercial_partner_id.webshop_category_ids._ids else {}"/>
                                        &amp;nbsp;<t t-esc="category[1]"/>
                                </div>
                            </t>
                            <small t-esc="help.get('help_webshop_category_ids', '')"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 col-sm-4 control-label" for="website_short_description">Reseller Description</label>
                        <div class="col-md-7 col-sm-8">
                            <textarea id="website_short_description" type="text" class="form-control" name="website_short_description" placeholder="Reseller Description..." rows="10" cols="70" ><t t-raw="home_user.partner_id.commercial_partner_id.website_short_description"/></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-3 col-sm-4 control-label" for="top_image">Top Image</label>
                        <div class="col-md-7 col-sm-8">
                            <t t-if="home_user.partner_id.commercial_partner_id.top_image">
                                <img id="top_image_show" t-att-src="'/imagefield/res.partner/top_image/%s/ref/reseller_dermanord.reseller_top_image?%s' %(home_user.partner_id.commercial_partner_id.id, time.strftime('%Y%m%d%H%M%S'))" style="max-width: 200px;"/>
                                <i id="remove_img" class="fa fa-trash-o fa-2x" t-att-data-partner_id="home_user.partner_id.commercial_partner_id.id"><input name="remove_img" class="hidden" value="0"/></i>
                            </t>
                            <input id="top_image" type="file" name="top_image" accept="image/*" capture="camera"/>
                            <small t-esc="help.get('help_top_image_size', '')" />
                        </div>
                    </div>
                </t>
            </xpath>
        </template>

        <template id="contact_form" inherit_id="website_sale_home.contact_form" name="Contact Form Inherited Reseller Dermanord">
            <xpath expr="//img[@id='contact_img']" position="replace">
                <img id="contact_img" t-att-src="'/imagefield/res.partner/image/%s/ref/reseller_dermanord.reseller_contact_img' %contact.id" style="max-width: 200px;"/>
            </xpath>
            <xpath expr="//input[@name='contact_function']/../.." position="after">
                    <div class="form-group">
                        <label class="col-md-3 col-sm-4 control-label">Competences</label>
                        <div class="col-md-7 col-sm-8">
                            <t t-foreach="contact and contact.category_id or []" t-as="tag">
                                <span t-esc="tag.name" class="oe_website_home_partner_tag"/>
                            </t>
                        </div>
                    </div>
                    <div t-att-class="'form-group'">
                        <label class="col-md-3 col-sm-4 control-label">Courses</label>
                        <div class="col-md-7 col-sm-8">
                            <t t-foreach="partner and partner.event_type_ids or []" t-as="event">
                                <span t-esc="event.name" class="oe_website_home_partner_course"/>
                            </t>
                        </div>
                    </div>
            </xpath>
        </template>

        <template id="company_info_form" inherit_id="website_sale_home.company_info_form" name="Company Info Form Inherited Reseller Dermanord">
            <xpath expr="//ul[@class='nav nav-tabs']" position="inside">
                <li class="" t-if="home_user.partner_id.commercial_partner_id.is_reseller">
                    <a data-toggle="tab" href="#opening_hours" class="hidden-xs">Opening Hours</a>
                    <a data-toggle="tab" href="#opening_hours" class="hidden-lg hidden-md hidden-sm">
                        <i class="fa fa-clock-o" />
                    </a>
                </li>
            </xpath>
            <xpath expr="//div[@id='contact']" position="after">
                <div id="opening_hours" class="tab-pane fade" t-if="home_user.partner_id.commercial_partner_id.is_reseller">
                    <table class="table table-striped">
                        <thead>
                            <th>Weekday</th>
                            <th>Opening Time</th>
                            <th>Closing Time</th>
                            <th>Lunch Start</th>
                            <th>Lunch End</th>
                            <th>Closed</th>
                        </thead>
                        <tbody>
                            <tr>
                                <t t-set="monday" t-value="home_user.partner_id.commercial_partner_id.opening_hours_ids.filtered(lambda o: o.dayofweek == 'monday')"/>
                                <td>Monday:</td>
                                <td><input type="number" class="form-control" name="monday_open_time" step="0.01" t-att-value="website.get_float_time(monday.open_time)" /></td>
                                <td><input type="number" class="form-control" name="monday_close_time" step="0.01" t-att-value="website.get_float_time(monday.close_time)" /></td>
                                <td><input type="number" class="form-control" name="monday_break_start" step="0.01" t-att-value="website.get_float_time(monday.break_start)" /></td>
                                <td><input type="number" class="form-control" name="monday_break_stop" step="0.01" t-att-value="website.get_float_time(monday.break_stop)" /></td>
                                <td><input type="checkbox" name="monday_close" value="1" t-att="{'checked': 1} if monday.close else {}"/></td>
                            </tr>
                            <tr>
                                <t t-set="tuesday" t-value="home_user.partner_id.commercial_partner_id.opening_hours_ids.filtered(lambda o: o.dayofweek == 'tuesday')"/>
                                <td>Tuesday:</td>
                                <td><input type="number" class="form-control" name="tuesday_open_time" step="0.01" t-att-value="website.get_float_time(tuesday.open_time)" /></td>
                                <td><input type="number" class="form-control" name="tuesday_close_time" step="0.01" t-att-value="website.get_float_time(tuesday.close_time)" /></td>
                                <td><input type="number" class="form-control" name="tuesday_break_start" step="0.01" t-att-value="website.get_float_time(tuesday.break_start)" /></td>
                                <td><input type="number" class="form-control" name="tuesday_break_stop" step="0.01" t-att-value="website.get_float_time(tuesday.break_stop)" /></td>
                                <td><input type="checkbox" name="tuesday_close" value="1" t-att="{'checked': 1} if tuesday.close else {}"/></td>
                            </tr>
                            <tr>
                                <t t-set="wednesday" t-value="home_user.partner_id.commercial_partner_id.opening_hours_ids.filtered(lambda o: o.dayofweek == 'wednesday')"/>
                                <td>Wednesday:</td>
                                <td><input type="number" class="form-control" name="wednesday_open_time" step="0.01" t-att-value="website.get_float_time(wednesday.open_time)" /></td>
                                <td><input type="number" class="form-control" name="wednesday_close_time" step="0.01" t-att-value="website.get_float_time(wednesday.close_time)" /></td>
                                <td><input type="number" class="form-control" name="wednesday_break_start" step="0.01" t-att-value="website.get_float_time(wednesday.break_start)" /></td>
                                <td><input type="number" class="form-control" name="wednesday_break_stop" step="0.01" t-att-value="website.get_float_time(wednesday.break_stop)" /></td>
                                <td><input type="checkbox" name="wednesday_close" value="1" t-att="{'checked': 1} if wednesday.close else {}"/></td>
                            </tr>
                            <tr>
                                <t t-set="thursday" t-value="home_user.partner_id.commercial_partner_id.opening_hours_ids.filtered(lambda o: o.dayofweek == 'thursday')"/>
                                <td>Thursday:</td>
                                <td><input type="number" class="form-control" name="thursday_open_time" step="0.01" t-att-value="website.get_float_time(thursday.open_time)" /></td>
                                <td><input type="number" class="form-control" name="thursday_close_time" step="0.01" t-att-value="website.get_float_time(thursday.close_time)" /></td>
                                <td><input type="number" class="form-control" name="thursday_break_start" step="0.01" t-att-value="website.get_float_time(thursday.break_start)" /></td>
                                <td><input type="number" class="form-control" name="thursday_break_stop" step="0.01" t-att-value="website.get_float_time(thursday.break_stop)" /></td>
                                <td><input type="checkbox" name="thursday_close" value="1" t-att="{'checked': 1} if thursday.close else {}"/></td>
                            </tr>
                            <tr>
                                <t t-set="friday" t-value="home_user.partner_id.commercial_partner_id.opening_hours_ids.filtered(lambda o: o.dayofweek == 'friday')"/>
                                <td>Friday:</td>
                                <td><input type="number" class="form-control" name="friday_open_time" step="0.01" t-att-value="website.get_float_time(friday.open_time)" /></td>
                                <td><input type="number" class="form-control" name="friday_close_time" step="0.01" t-att-value="website.get_float_time(friday.close_time)" /></td>
                                <td><input type="number" class="form-control" name="friday_break_start" step="0.01" t-att-value="website.get_float_time(friday.break_start)" /></td>
                                <td><input type="number" class="form-control" name="friday_break_stop" step="0.01" t-att-value="website.get_float_time(friday.break_stop)" /></td>
                                <td><input type="checkbox" name="friday_close" value="1" t-att="{'checked': 1} if friday.close else {}"/></td>
                            </tr>
                            <tr>
                                <t t-set="saturday" t-value="home_user.partner_id.commercial_partner_id.opening_hours_ids.filtered(lambda o: o.dayofweek == 'saturday')"/>
                                <td>Saturday:</td>
                                <td><input type="number" class="form-control" name="saturday_open_time" step="0.01" t-att-value="website.get_float_time(saturday.open_time)" /></td>
                                <td><input type="number" class="form-control" name="saturday_close_time" step="0.01" t-att-value="website.get_float_time(saturday.close_time)" /></td>
                                <td><input type="number" class="form-control" name="saturday_break_start" step="0.01" t-att-value="website.get_float_time(saturday.break_start)" /></td>
                                <td><input type="number" class="form-control" name="saturday_break_stop" step="0.01" t-att-value="website.get_float_time(saturday.break_stop)" /></td>
                                <td><input type="checkbox" name="saturday_close" value="1" t-att="{'checked': 1} if saturday.close else {}"/></td>
                            </tr>
                            <tr>
                                <t t-set="sunday" t-value="home_user.partner_id.commercial_partner_id.opening_hours_ids.filtered(lambda o: o.dayofweek == 'sunday')"/>
                                <td>Sunday:</td>
                                <td><input type="number" class="form-control" name="sunday_open_time" step="0.01" t-att-value="website.get_float_time(sunday.open_time)" /></td>
                                <td><input type="number" class="form-control" name="sunday_close_time" step="0.01" t-att-value="website.get_float_time(sunday.close_time)" /></td>
                                <td><input type="number" class="form-control" name="sunday_break_start" step="0.01" t-att-value="website.get_float_time(sunday.break_start)" /></td>
                                <td><input type="number" class="form-control" name="sunday_break_stop" step="0.01" t-att-value="website.get_float_time(sunday.break_stop)" /></td>
                                <td><input type="checkbox" name="sunday_close" value="1" t-att="{'checked': 1} if sunday.close else {}"/></td>
                            </tr>
                        </tbody>
                    </table>
                    <div class="form-group">
                        <label class="col-md-3 col-sm-4 control-label" for="opening_hours_exceptions">Exceptions</label>
                        <div class="col-md-7 col-sm-8">
                            <textarea class="form-control" name="opening_hours_exceptions" rows="5"><t t-esc="home_user.partner_id.commercial_partner_id.opening_hours_exceptions or ''"/></textarea>
                            <small>This field is used to print dates when the salon is closed and that are exceptions from the opening hours stated above. If this field isn't filled out it won't be shown in the salon's opening hours.</small>
                        </div>
                    </div>
                </div>
            </xpath>
            <xpath expr="//li[@id='nav_invoice']" position="after">
                <li id="nav_visit" class="">
                    <a data-toggle="tab" href="#visit" class="hidden-xs">Visit Address</a>
                    <a data-toggle="tab" href="#visit" class="hidden-lg hidden-md hidden-sm">
                        <i class="fa fa-shopping-cart" />
                    </a>
                </li>
            </xpath>
            <xpath expr="//div[@id='delivery']" position="inside">
                <div class="col-md-offset-3 col-sm-offset-4">*To make changes, contact Maria Åkerberg below</div>
            </xpath>
            <xpath expr="//div[@id='invoice']" position="inside">
                <div class="col-md-offset-3 col-sm-offset-4">*To make changes, contact Maria Åkerberg below</div>
            </xpath>
            <xpath expr="//div[@id='invoice']" position="after">
                <div id="visit" class="tab-pane fade">
                    <p id="instruction_visit" />
                    <t t-set="input_attrs" t-value="{'readonly': '1'} if 'visit' in address_types_readonly else {}"/>
                    <div t-att-class="'form-group %s' %validation.get('visit_street', '')">
                        <label class="col-md-3 col-sm-4 control-label" for="visit_street">Street</label>
                        <div class="col-md-7 col-sm-8">
                            <input type="text" class="form-control" name="visit_street" t-att-value="visit.street if visit else ''" placeholder="" t-att="input_attrs"/>
                            <small t-esc="help.get('help_visit_street', '')" />
                        </div>
                    </div>
                    <div t-att-class="'form-group %s' %validation.get('visit_street2', '')">
                        <label class="col-md-3 col-sm-4 control-label" for="visit_street2">Street row 2</label>
                        <div class="col-md-7 col-sm-8">
                            <input type="text" class="form-control" name="visit_street2" t-att-value="visit.street2 if visit else ''" placeholder="" t-att="input_attrs"/>
                            <small t-esc="help.get('help_visit_street2', '')" />
                        </div>
                    </div>
                    <div t-att-class="'form-group %s' %validation.get('visit_zip', '')">
                        <label class="col-md-3 col-sm-4 control-label" for="visit_zip">Zip</label>
                        <div class="col-md-7 col-sm-8">
                            <input type="text" class="form-control" name="visit_zip" t-att-value="visit.zip if visit else ''" placeholder="" t-att="input_attrs"/>
                            <small t-esc="help.get('help_visit_zip', '')" />
                        </div>
                    </div>
                    <div t-att-class="'form-group %s' %validation.get('visit_city', '')">
                        <label class="col-md-3 col-sm-4 control-label" for="visit_city">City</label>
                        <div class="col-md-7 col-sm-8">
                            <input type="text" class="form-control" name="visit_city" t-att-value="visit.city if visit else ''" placeholder="" t-att="input_attrs"/>
                            <small t-esc="help.get('help_visit_city', '')" />
                        </div>
                    </div>
                    <div t-att-class="'form-group %s' %validation.get('visit_country_id', '')">
                        <label class="col-md-3 col-sm-4 control-label" for="visit_country_id">Country</label>
                        <div class="col-md-7 col-sm-8">
                            <select class="form-control" name="visit_country_id" t-att="input_attrs">
                                <t t-if="visit">
                                    <t t-foreach="country_selection" t-as="country">
                                        <option t-att-value="country[0]" t-att="{'selected': '1'} if country[0] == visit.country_id.id else {}"><t t-esc="country[1]"/></option>
                                    </t>
                                </t>
                                <t t-if="not visit">
                                    <t t-foreach="country_selection" t-as="country">
                                        <option t-att-value="country[0]" t-att="{'selected': '1'} if country[0] == request.env['res.country'].search([('code', '=', 'se')]).id else {}"><t t-esc="country[1]"/></option>
                                    </t>
                                </t>
                            </select>
                            <small t-esc="help.get('help_visit_country', '')" />
                        </div>
                    </div>
                    <div t-att-class="'form-group %s' %validation.get('visit_phone', '')">
                        <label class="col-md-3 col-sm-4 control-label" for="visit_phone">Phone</label>
                        <div class="col-md-7 col-sm-8">
                            <input type="text" class="form-control" name="visit_phone" t-att-value="visit.phone if visit else ''" placeholder="" t-att="input_attrs"/>
                            <small t-esc="help.get('help_visit_phone', '')" />
                        </div>
                    </div>
                    <div t-att-class="'form-group %s' %validation.get('visit_email', '')">
                        <label class="col-md-3 col-sm-4 control-label" for="visit_email">Email</label>
                        <div class="col-md-7 col-sm-8">
                            <input type="email" class="form-control" name="visit_email" t-att-value="visit.email if visit else ''" placeholder="" t-att="input_attrs"/>
                            <small t-esc="help.get('help_visit_wmail', '')" />
                        </div>
                    </div>
                </div>
            </xpath>
        </template>

        <template id="resellers_city" name="Resellers City">
            <t t-call="website.layout">
                <div id="wrap">
                    <div class="oe_structure"/>
                    <div class="container">
                        <div class="row">
                            <t t-call="reseller_dermanord.view_type"/>
                            <div class="col-md-12 col-sm-12 col-xs-12 mb16">
                                <t t-if="len(cities) &gt; 0">
                                    <t t-foreach="cities" t-as="city">
                                        <div class="col-md-4 col-sm-4 col-xs-12">
                                            <h4><strong><t t-esc="city"/></strong></h4>
                                            <t t-foreach="resellers.with_context({'city': city}).filtered(lambda p: p.city == p._context.get('city'))" t-as="reseller">
                                                <a t-att-href="'/reseller/%s' %reseller.id">
                                                    <p t-esc="reseller.name"/>
                                                </a>
                                            </t>
                                        </div>
                                    </t>
                                </t>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="oe_structure"/>
            </t>
        </template>

        <template id="resellers_country" name="Resellers Country">
            <t t-call="website.layout">
                <div id="wrap">
                    <div class="oe_structure"/>
                    <div class="container">
                        <div class="row">
                            <t t-call="reseller_dermanord.view_type"/>
                            <div class="col-md-12 col-sm-12 col-xs-12 mb16">
                                <t t-if="len(countries) &gt; 0">
                                    <t t-foreach="countries" t-as="country_id">
                                        <div class="col-md-4 col-sm-4 col-xs-12">
                                            <h4><strong><t t-esc="country_id.name"/></strong></h4>
                                            <t t-foreach="resellers.with_context({'country_id': country_id}).filtered(lambda p: p.country_id == p._context.get('country_id'))" t-as="reseller">
                                                <a t-att-href="'/reseller/%s' %reseller.id">
                                                    <p t-esc="reseller.name"/>
                                                </a>
                                            </t>
                                        </div>
                                    </t>
                                </t>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="oe_structure"/>
            </t>
        </template>

        <template id="assets_frontend" inherit_id="website.assets_frontend" name="Customize CSS JS">
            <!-- Customize css -->
            <xpath expr="." position="inside">
                <link href="/reseller_dermanord/static/src/css/main.css" rel="stylesheet" />
            </xpath>
            <xpath expr="//script[last()]" position="after">
                <script type="text/javascript" src="/reseller_dermanord/static/src/js/main.js" />
            </xpath>
        </template>

    </data>
</openerp>
